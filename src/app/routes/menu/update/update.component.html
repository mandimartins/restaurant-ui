<div class="row">
  <div class="col l12 m12 s12" style="margin-top: 20px">
    <a mat-fab extended routerLink="/admin">
      <mat-icon>arrow_back</mat-icon>
      Go back</a
    >
  </div>
</div>

<div class="row">
  <div class="col l12 m12 s12">
    <app-error-bar #errorBar></app-error-bar>
  </div>
</div>

<div class="content">
  <div class="row">
    <div class="col l8 m12 s12 offset-l2">
      <mat-card>
        <mat-card-content>
          <div class="row">
            <form [formGroup]="form" class="col s12 m12 l12">
              <div class="row">
                <mat-form-field class="col s12 m6 l3" appearance="outline">
                  <mat-label>Code</mat-label>
                  <input matInput formControlName="Id" />
                </mat-form-field>
              </div>

              <div class="row">
                <mat-form-field class="col s12 m12 l12" appearance="outline">
                  <mat-label>Title</mat-label>
                  <input
                    matInput
                    placeholder="Ex. Drinks..."
                    formControlName="Title"
                    (blur)="updateTitleErrorMessage()"
                  />
                  @if (form.controls.Title.invalid) {
                    <mat-error>{{ titleErrorMessage() }}</mat-error>
                  }
                </mat-form-field>
              </div>

              <div class="row">
                <mat-form-field class="col s12 m12 l12" appearance="outline">
                  <mat-label>Description</mat-label>
                  <input
                    matInput
                    placeholder="Ex. Additional info..."
                    formControlName="Description"
                    (blur)="updateDescriptionErrorMessage()"
                  />

                  @if (form.controls.Description.invalid) {
                    <mat-error>{{ descriptionErrorMessage() }}</mat-error>
                  }
                </mat-form-field>
              </div>

              <div class="row">
                <mat-form-field class="col s12 m12 l12" appearance="outline">
                  <mat-label>Badge Description</mat-label>
                  <input
                    matInput
                    placeholder="Ex. Additional info..."
                    formControlName="BadgeDescription"
                    (blur)="updateBadgeDescriptionMessage()"
                  />

                  @if (form.controls.BadgeDescription.invalid) {
                    <mat-error>{{ badgeDescriptionErrorMessage() }}</mat-error>
                  }
                </mat-form-field>
              </div>
            </form>
          </div>
        </mat-card-content>
        <mat-card-actions>
          <button
            mat-button
            (click)="onSave()"
            [disabled]="this.form.invalid || visualize"
          >
            SAVE
          </button>
          <button mat-button (click)="onCancel()">CANCEL</button>
        </mat-card-actions>
      </mat-card>
    </div>
  </div>
</div>
